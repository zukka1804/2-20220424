{"filter":false,"title":"BookController.php","tooltip":"/cms/app/Http/Controllers/BookController.php","ace":{"folds":[],"scrolltop":480,"scrollleft":0,"selection":{"start":{"row":65,"column":5},"end":{"row":65,"column":5},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"hash":"b24088910a9bb72300e10382b7ed82110ee46a27","mime":"application/octet-stream","undoManager":{"mark":91,"position":91,"stack":[[{"start":{"row":0,"column":0},"end":{"row":85,"column":0},"action":"remove","lines":["<?php","","namespace App\\Http\\Controllers;","","use App\\Models\\Book;","use Illuminate\\Http\\Request;","","class BookController extends Controller","{","    /**","     * Display a listing of the resource.","     *","     * @return \\Illuminate\\Http\\Response","     */","    public function index()","    {","        //","    }","","    /**","     * Show the form for creating a new resource.","     *","     * @return \\Illuminate\\Http\\Response","     */","    public function create()","    {","        //","    }","","    /**","     * Store a newly created resource in storage.","     *","     * @param  \\Illuminate\\Http\\Request  $request","     * @return \\Illuminate\\Http\\Response","     */","    public function store(Request $request)","    {","        //","    }","","    /**","     * Display the specified resource.","     *","     * @param  \\App\\Models\\Book  $book","     * @return \\Illuminate\\Http\\Response","     */","    public function show(Book $book)","    {","        //","    }","","    /**","     * Show the form for editing the specified resource.","     *","     * @param  \\App\\Models\\Book  $book","     * @return \\Illuminate\\Http\\Response","     */","    public function edit(Book $book)","    {","        //","    }","","    /**","     * Update the specified resource in storage.","     *","     * @param  \\Illuminate\\Http\\Request  $request","     * @param  \\App\\Models\\Book  $book","     * @return \\Illuminate\\Http\\Response","     */","    public function update(Request $request, Book $book)","    {","        //","    }","","    /**","     * Remove the specified resource from storage.","     *","     * @param  \\App\\Models\\Book  $book","     * @return \\Illuminate\\Http\\Response","     */","    public function destroy(Book $book)","    {","        //","    }","}",""],"id":2}],[{"start":{"row":0,"column":0},"end":{"row":131,"column":1},"action":"insert","lines":["<?php","","namespace App\\Http\\Controllers;","","use Illuminate\\Http\\Request;","use App\\Models\\Book;","use Validator;","","class BookController extends Controller","{","    /**","     * Display a listing of the resource.","     *","     * @return \\Illuminate\\Http\\Response","     */","    public function index()","    {","        $books = Book::orderBy('created_at', 'asc')->get();","        return view('books', ['books' => $books]);","    }","","    /**","     * Show the form for creating a new resource.","     *","     * @return \\Illuminate\\Http\\Response","     */","    public function create()","    {","        //","    }","","    /**","     * Store a newly created resource in storage.","     *","     * @param  \\Illuminate\\Http\\Request  $request","     * @return \\Illuminate\\Http\\Response","     */","    public function store(Request $request)","    {","\t\t// バリデーション","\t    $validator = Validator::make($request->all(), [","\t        'item_name'   => 'required | min:3 | max:255',","\t        'item_number' => 'required | min:1 | max:3',","\t        'item_amount' => 'required | max:6',","\t        'published'   => 'required',","\t    ]);","","\t\t\t// バリデーション:エラー時の処理","\t    if ($validator->fails()) {","\t        return redirect('/')","\t            ->withInput()","\t            ->withErrors($validator);","\t    }","\t\t\t","\t\t// 登録処理","        $book = new Book;","        $book->item_name =    $request->item_name;","        $book->item_number =  $request->item_number;","        $book->item_amount =  $request->item_amount;","        $book->published =    $request->published;","        $book->save();","        return redirect('/');","    }","","    /**","     * Display the specified resource.","     *","     * @param  int  $id","     * @return \\Illuminate\\Http\\Response","     */","    public function show($id)","    {","        //","    }","","    /**","     * Show the form for editing the specified resource.","     *","     * @param  int  $id","     * @return \\Illuminate\\Http\\Response","     */","    public function edit(Book $book)","    {","        return view('booksedit', ['book' => $book]);","    }","","    /**","     * Update the specified resource in storage.","     *","     * @param  \\Illuminate\\Http\\Request  $request","     * @param  int  $id","     * @return \\Illuminate\\Http\\Response","     */","    public function update(Request $request)","    {","\t\t// バリデーション","\t\t$validator = Validator::make($request->all(), [","\t\t    'id' => 'required', // storeに対しての追加分","\t\t    'item_name' => 'required|min:3|max:255',","\t\t    'item_number' => 'required|min:1|max:3',","\t\t    'item_amount' => 'required|max:6',","\t\t    'published' => 'required',","\t\t]);","","\t\t// バリデーション:エラー","\t\tif ($validator->fails()) {","\t\t    return redirect('/booksedit/'.$request->id)","\t\t        ->withInput()","\t\t        ->withErrors($validator);","\t\t}","","        $book = Book::find($request->id);","        $book->item_name =    $request->item_name;","        $book->item_number =  $request->item_number;","        $book->item_amount =  $request->item_amount;","        $book->published =    $request->published;","        $book->save(); ","        return redirect('/');","    }","","    /**","     * Remove the specified resource from storage.","     *","     * @param  int  $id","     * @return \\Illuminate\\Http\\Response","     */","    public function destroy(Book $book)","    {","        $book->delete();","        return redirect('/');","    }","}"],"id":3}],[{"start":{"row":41,"column":10},"end":{"row":41,"column":19},"action":"remove","lines":["item_name"],"id":5}],[{"start":{"row":41,"column":10},"end":{"row":41,"column":22},"action":"insert","lines":["donator_name"],"id":6}],[{"start":{"row":42,"column":20},"end":{"row":42,"column":21},"action":"remove","lines":["r"],"id":7},{"start":{"row":42,"column":19},"end":{"row":42,"column":20},"action":"remove","lines":["e"]},{"start":{"row":42,"column":18},"end":{"row":42,"column":19},"action":"remove","lines":["b"]},{"start":{"row":42,"column":17},"end":{"row":42,"column":18},"action":"remove","lines":["m"]},{"start":{"row":42,"column":16},"end":{"row":42,"column":17},"action":"remove","lines":["u"]},{"start":{"row":42,"column":15},"end":{"row":42,"column":16},"action":"remove","lines":["n"]},{"start":{"row":42,"column":14},"end":{"row":42,"column":15},"action":"remove","lines":["_"]},{"start":{"row":42,"column":13},"end":{"row":42,"column":14},"action":"remove","lines":["m"]},{"start":{"row":42,"column":12},"end":{"row":42,"column":13},"action":"remove","lines":["e"]},{"start":{"row":42,"column":11},"end":{"row":42,"column":12},"action":"remove","lines":["t"]},{"start":{"row":42,"column":10},"end":{"row":42,"column":11},"action":"remove","lines":["i"]}],[{"start":{"row":42,"column":10},"end":{"row":42,"column":11},"action":"insert","lines":["z"],"id":8},{"start":{"row":42,"column":11},"end":{"row":42,"column":12},"action":"insert","lines":["i"]},{"start":{"row":42,"column":12},"end":{"row":42,"column":13},"action":"insert","lines":["p"]},{"start":{"row":42,"column":13},"end":{"row":42,"column":14},"action":"insert","lines":["c"]},{"start":{"row":42,"column":14},"end":{"row":42,"column":15},"action":"insert","lines":["o"]},{"start":{"row":42,"column":15},"end":{"row":42,"column":16},"action":"insert","lines":["d"]},{"start":{"row":42,"column":16},"end":{"row":42,"column":17},"action":"insert","lines":["e"]}],[{"start":{"row":42,"column":10},"end":{"row":42,"column":17},"action":"remove","lines":["zipcode"],"id":9},{"start":{"row":42,"column":10},"end":{"row":42,"column":17},"action":"insert","lines":["zipcode"]}],[{"start":{"row":42,"column":46},"end":{"row":42,"column":47},"action":"remove","lines":["3"],"id":10}],[{"start":{"row":42,"column":46},"end":{"row":42,"column":47},"action":"insert","lines":["2"],"id":11}],[{"start":{"row":42,"column":49},"end":{"row":43,"column":0},"action":"insert","lines":["",""],"id":12},{"start":{"row":43,"column":0},"end":{"row":43,"column":9},"action":"insert","lines":["\t        "]}],[{"start":{"row":43,"column":9},"end":{"row":43,"column":58},"action":"insert","lines":["'donator_name'   => 'required | min:3 | max:255',"],"id":13}],[{"start":{"row":43,"column":21},"end":{"row":43,"column":22},"action":"remove","lines":["e"],"id":14},{"start":{"row":43,"column":20},"end":{"row":43,"column":21},"action":"remove","lines":["m"]},{"start":{"row":43,"column":19},"end":{"row":43,"column":20},"action":"remove","lines":["a"]},{"start":{"row":43,"column":18},"end":{"row":43,"column":19},"action":"remove","lines":["n"]},{"start":{"row":43,"column":17},"end":{"row":43,"column":18},"action":"remove","lines":["_"]},{"start":{"row":43,"column":16},"end":{"row":43,"column":17},"action":"remove","lines":["r"]},{"start":{"row":43,"column":15},"end":{"row":43,"column":16},"action":"remove","lines":["o"]},{"start":{"row":43,"column":14},"end":{"row":43,"column":15},"action":"remove","lines":["t"]},{"start":{"row":43,"column":13},"end":{"row":43,"column":14},"action":"remove","lines":["a"]},{"start":{"row":43,"column":12},"end":{"row":43,"column":13},"action":"remove","lines":["n"]},{"start":{"row":43,"column":11},"end":{"row":43,"column":12},"action":"remove","lines":["o"]},{"start":{"row":43,"column":10},"end":{"row":43,"column":11},"action":"remove","lines":["d"]}],[{"start":{"row":43,"column":10},"end":{"row":43,"column":11},"action":"insert","lines":["a"],"id":15},{"start":{"row":43,"column":11},"end":{"row":43,"column":12},"action":"insert","lines":["d"]},{"start":{"row":43,"column":12},"end":{"row":43,"column":13},"action":"insert","lines":["d"]}],[{"start":{"row":43,"column":10},"end":{"row":43,"column":13},"action":"remove","lines":["add"],"id":16},{"start":{"row":43,"column":10},"end":{"row":43,"column":17},"action":"insert","lines":["address"]}],[{"start":{"row":43,"column":40},"end":{"row":43,"column":41},"action":"remove","lines":["3"],"id":17}],[{"start":{"row":43,"column":40},"end":{"row":43,"column":41},"action":"insert","lines":["5"],"id":18}],[{"start":{"row":43,"column":53},"end":{"row":44,"column":0},"action":"insert","lines":["",""],"id":19},{"start":{"row":44,"column":0},"end":{"row":44,"column":9},"action":"insert","lines":["\t        "]}],[{"start":{"row":44,"column":9},"end":{"row":44,"column":13},"action":"insert","lines":["meet"],"id":20}],[{"start":{"row":43,"column":53},"end":{"row":44,"column":0},"action":"insert","lines":["",""],"id":21},{"start":{"row":44,"column":0},"end":{"row":44,"column":9},"action":"insert","lines":["\t        "]}],[{"start":{"row":44,"column":9},"end":{"row":44,"column":62},"action":"insert","lines":["\t        'address'   => 'required | min:5 | max:255',"],"id":22}],[{"start":{"row":44,"column":0},"end":{"row":44,"column":1},"action":"remove","lines":["\t"],"id":23},{"start":{"row":44,"column":0},"end":{"row":44,"column":4},"action":"remove","lines":["    "]},{"start":{"row":44,"column":0},"end":{"row":44,"column":4},"action":"remove","lines":["    "]}],[{"start":{"row":45,"column":8},"end":{"row":45,"column":13},"action":"remove","lines":[" meet"],"id":24}],[{"start":{"row":44,"column":16},"end":{"row":44,"column":17},"action":"remove","lines":["s"],"id":25},{"start":{"row":44,"column":15},"end":{"row":44,"column":16},"action":"remove","lines":["s"]},{"start":{"row":44,"column":14},"end":{"row":44,"column":15},"action":"remove","lines":["e"]},{"start":{"row":44,"column":13},"end":{"row":44,"column":14},"action":"remove","lines":["r"]},{"start":{"row":44,"column":12},"end":{"row":44,"column":13},"action":"remove","lines":["d"]},{"start":{"row":44,"column":11},"end":{"row":44,"column":12},"action":"remove","lines":["d"]},{"start":{"row":44,"column":10},"end":{"row":44,"column":11},"action":"remove","lines":["a"]}],[{"start":{"row":44,"column":10},"end":{"row":44,"column":15},"action":"insert","lines":[" meet"],"id":26}],[{"start":{"row":44,"column":10},"end":{"row":44,"column":11},"action":"remove","lines":[" "],"id":27}],[{"start":{"row":45,"column":0},"end":{"row":45,"column":1},"action":"remove","lines":["\t"],"id":28},{"start":{"row":45,"column":0},"end":{"row":45,"column":4},"action":"remove","lines":["    "]}],[{"start":{"row":44,"column":50},"end":{"row":45,"column":3},"action":"remove","lines":["","   "],"id":29}],[{"start":{"row":45,"column":0},"end":{"row":45,"column":45},"action":"remove","lines":["\t        'item_amount' => 'required | max:6',"],"id":30},{"start":{"row":44,"column":50},"end":{"row":45,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":57,"column":23},"end":{"row":57,"column":24},"action":"remove","lines":["e"],"id":31},{"start":{"row":57,"column":22},"end":{"row":57,"column":23},"action":"remove","lines":["m"]},{"start":{"row":57,"column":21},"end":{"row":57,"column":22},"action":"remove","lines":["a"]},{"start":{"row":57,"column":20},"end":{"row":57,"column":21},"action":"remove","lines":["n"]},{"start":{"row":57,"column":19},"end":{"row":57,"column":20},"action":"remove","lines":["_"]},{"start":{"row":57,"column":18},"end":{"row":57,"column":19},"action":"remove","lines":["m"]},{"start":{"row":57,"column":17},"end":{"row":57,"column":18},"action":"remove","lines":["e"]},{"start":{"row":57,"column":16},"end":{"row":57,"column":17},"action":"remove","lines":["t"]},{"start":{"row":57,"column":15},"end":{"row":57,"column":16},"action":"remove","lines":["i"]}],[{"start":{"row":57,"column":15},"end":{"row":57,"column":27},"action":"insert","lines":["donator_name"],"id":32}],[{"start":{"row":57,"column":43},"end":{"row":57,"column":55},"action":"insert","lines":["donator_name"],"id":33}],[{"start":{"row":57,"column":55},"end":{"row":57,"column":56},"action":"remove","lines":["i"],"id":34},{"start":{"row":57,"column":55},"end":{"row":57,"column":56},"action":"remove","lines":["t"]},{"start":{"row":57,"column":55},"end":{"row":57,"column":56},"action":"remove","lines":["e"]},{"start":{"row":57,"column":55},"end":{"row":57,"column":56},"action":"remove","lines":["m"]},{"start":{"row":57,"column":55},"end":{"row":57,"column":56},"action":"remove","lines":["_"]},{"start":{"row":57,"column":55},"end":{"row":57,"column":56},"action":"remove","lines":["n"]},{"start":{"row":57,"column":55},"end":{"row":57,"column":56},"action":"remove","lines":["a"]},{"start":{"row":57,"column":55},"end":{"row":57,"column":56},"action":"remove","lines":["m"]},{"start":{"row":57,"column":55},"end":{"row":57,"column":56},"action":"remove","lines":["e"]}],[{"start":{"row":58,"column":15},"end":{"row":58,"column":22},"action":"insert","lines":["zipcode"],"id":35}],[{"start":{"row":58,"column":22},"end":{"row":58,"column":23},"action":"remove","lines":["i"],"id":36},{"start":{"row":58,"column":22},"end":{"row":58,"column":23},"action":"remove","lines":["t"]},{"start":{"row":58,"column":22},"end":{"row":58,"column":23},"action":"remove","lines":["e"]},{"start":{"row":58,"column":22},"end":{"row":58,"column":23},"action":"remove","lines":["m"]},{"start":{"row":58,"column":22},"end":{"row":58,"column":23},"action":"remove","lines":["_"]},{"start":{"row":58,"column":22},"end":{"row":58,"column":23},"action":"remove","lines":["n"]},{"start":{"row":58,"column":22},"end":{"row":58,"column":23},"action":"remove","lines":["u"]},{"start":{"row":58,"column":22},"end":{"row":58,"column":23},"action":"remove","lines":["m"]},{"start":{"row":58,"column":22},"end":{"row":58,"column":23},"action":"remove","lines":["b"]},{"start":{"row":58,"column":22},"end":{"row":58,"column":23},"action":"remove","lines":["e"]},{"start":{"row":58,"column":22},"end":{"row":58,"column":23},"action":"remove","lines":["r"]}],[{"start":{"row":58,"column":36},"end":{"row":58,"column":43},"action":"insert","lines":["zipcode"],"id":37}],[{"start":{"row":58,"column":43},"end":{"row":58,"column":44},"action":"remove","lines":["i"],"id":38},{"start":{"row":58,"column":43},"end":{"row":58,"column":44},"action":"remove","lines":["t"]},{"start":{"row":58,"column":43},"end":{"row":58,"column":44},"action":"remove","lines":["e"]},{"start":{"row":58,"column":43},"end":{"row":58,"column":44},"action":"remove","lines":["m"]},{"start":{"row":58,"column":43},"end":{"row":58,"column":44},"action":"remove","lines":["_"]},{"start":{"row":58,"column":43},"end":{"row":58,"column":44},"action":"remove","lines":["n"]},{"start":{"row":58,"column":43},"end":{"row":58,"column":44},"action":"remove","lines":["u"]},{"start":{"row":58,"column":43},"end":{"row":58,"column":44},"action":"remove","lines":["m"]},{"start":{"row":58,"column":43},"end":{"row":58,"column":44},"action":"remove","lines":["b"]},{"start":{"row":58,"column":43},"end":{"row":58,"column":44},"action":"remove","lines":["e"]}],[{"start":{"row":58,"column":43},"end":{"row":58,"column":44},"action":"remove","lines":["r"],"id":39}],[{"start":{"row":59,"column":15},"end":{"row":59,"column":22},"action":"insert","lines":["address"],"id":40}],[{"start":{"row":59,"column":22},"end":{"row":59,"column":23},"action":"remove","lines":["i"],"id":41},{"start":{"row":59,"column":22},"end":{"row":59,"column":23},"action":"remove","lines":["t"]},{"start":{"row":59,"column":22},"end":{"row":59,"column":23},"action":"remove","lines":["e"]},{"start":{"row":59,"column":22},"end":{"row":59,"column":23},"action":"remove","lines":["m"]},{"start":{"row":59,"column":22},"end":{"row":59,"column":23},"action":"remove","lines":["_"]},{"start":{"row":59,"column":22},"end":{"row":59,"column":23},"action":"remove","lines":["a"]},{"start":{"row":59,"column":22},"end":{"row":59,"column":23},"action":"remove","lines":["m"]},{"start":{"row":59,"column":22},"end":{"row":59,"column":23},"action":"remove","lines":["o"]},{"start":{"row":59,"column":22},"end":{"row":59,"column":23},"action":"remove","lines":["u"]},{"start":{"row":59,"column":22},"end":{"row":59,"column":23},"action":"remove","lines":["n"]},{"start":{"row":59,"column":22},"end":{"row":59,"column":23},"action":"remove","lines":["t"]}],[{"start":{"row":59,"column":36},"end":{"row":59,"column":43},"action":"insert","lines":["address"],"id":42}],[{"start":{"row":59,"column":43},"end":{"row":59,"column":44},"action":"remove","lines":["i"],"id":43},{"start":{"row":59,"column":43},"end":{"row":59,"column":44},"action":"remove","lines":["t"]},{"start":{"row":59,"column":43},"end":{"row":59,"column":44},"action":"remove","lines":["e"]},{"start":{"row":59,"column":43},"end":{"row":59,"column":44},"action":"remove","lines":["m"]},{"start":{"row":59,"column":43},"end":{"row":59,"column":44},"action":"remove","lines":["_"]},{"start":{"row":59,"column":43},"end":{"row":59,"column":44},"action":"remove","lines":["a"]},{"start":{"row":59,"column":43},"end":{"row":59,"column":44},"action":"remove","lines":["m"]},{"start":{"row":59,"column":43},"end":{"row":59,"column":44},"action":"remove","lines":["o"]},{"start":{"row":59,"column":43},"end":{"row":59,"column":44},"action":"remove","lines":["u"]},{"start":{"row":59,"column":43},"end":{"row":59,"column":44},"action":"remove","lines":["n"]},{"start":{"row":59,"column":43},"end":{"row":59,"column":44},"action":"remove","lines":["t"]}],[{"start":{"row":59,"column":44},"end":{"row":60,"column":0},"action":"insert","lines":["",""],"id":44},{"start":{"row":60,"column":0},"end":{"row":60,"column":8},"action":"insert","lines":["        "]}],[{"start":{"row":60,"column":8},"end":{"row":60,"column":44},"action":"insert","lines":["$book->address =  $request->address;"],"id":45}],[{"start":{"row":60,"column":21},"end":{"row":60,"column":22},"action":"remove","lines":["s"],"id":46},{"start":{"row":60,"column":20},"end":{"row":60,"column":21},"action":"remove","lines":["s"]},{"start":{"row":60,"column":19},"end":{"row":60,"column":20},"action":"remove","lines":["e"]},{"start":{"row":60,"column":18},"end":{"row":60,"column":19},"action":"remove","lines":["r"]},{"start":{"row":60,"column":17},"end":{"row":60,"column":18},"action":"remove","lines":["d"]},{"start":{"row":60,"column":16},"end":{"row":60,"column":17},"action":"remove","lines":["d"]},{"start":{"row":60,"column":15},"end":{"row":60,"column":16},"action":"remove","lines":["a"]}],[{"start":{"row":60,"column":15},"end":{"row":60,"column":19},"action":"insert","lines":["meet"],"id":47}],[{"start":{"row":60,"column":33},"end":{"row":60,"column":37},"action":"insert","lines":["meet"],"id":48}],[{"start":{"row":60,"column":37},"end":{"row":60,"column":38},"action":"remove","lines":["a"],"id":49},{"start":{"row":60,"column":37},"end":{"row":60,"column":38},"action":"remove","lines":["d"]},{"start":{"row":60,"column":37},"end":{"row":60,"column":38},"action":"remove","lines":["d"]},{"start":{"row":60,"column":37},"end":{"row":60,"column":38},"action":"remove","lines":["r"]},{"start":{"row":60,"column":37},"end":{"row":60,"column":38},"action":"remove","lines":["e"]},{"start":{"row":60,"column":37},"end":{"row":60,"column":38},"action":"remove","lines":["s"]},{"start":{"row":60,"column":37},"end":{"row":60,"column":38},"action":"remove","lines":["s"]}],[{"start":{"row":99,"column":42},"end":{"row":100,"column":0},"action":"insert","lines":["",""],"id":57},{"start":{"row":100,"column":0},"end":{"row":100,"column":6},"action":"insert","lines":["\t\t    "]},{"start":{"row":100,"column":6},"end":{"row":101,"column":0},"action":"insert","lines":["",""]},{"start":{"row":101,"column":0},"end":{"row":101,"column":6},"action":"insert","lines":["\t\t    "]},{"start":{"row":101,"column":6},"end":{"row":102,"column":0},"action":"insert","lines":["",""]},{"start":{"row":102,"column":0},"end":{"row":102,"column":6},"action":"insert","lines":["\t\t    "]},{"start":{"row":102,"column":6},"end":{"row":103,"column":0},"action":"insert","lines":["",""]},{"start":{"row":103,"column":0},"end":{"row":103,"column":6},"action":"insert","lines":["\t\t    "]},{"start":{"row":103,"column":6},"end":{"row":104,"column":0},"action":"insert","lines":["",""]},{"start":{"row":104,"column":0},"end":{"row":104,"column":6},"action":"insert","lines":["\t\t    "]}],[{"start":{"row":102,"column":6},"end":{"row":106,"column":37},"action":"insert","lines":["\t        'donator_name'   => 'required | min:3 | max:255',","\t        'zipcode' => 'required | min:1 | max:2',","\t        'address'   => 'required | min:5 | max:255',","\t        'meet'   => 'required | min:5 | max:255',","\t        'published'   => 'required',"],"id":58}],[{"start":{"row":102,"column":14},"end":{"row":102,"column":15},"action":"remove","lines":[" "],"id":59},{"start":{"row":102,"column":13},"end":{"row":102,"column":14},"action":"remove","lines":[" "]},{"start":{"row":102,"column":12},"end":{"row":102,"column":13},"action":"remove","lines":[" "]},{"start":{"row":102,"column":8},"end":{"row":102,"column":12},"action":"remove","lines":["    "]},{"start":{"row":102,"column":7},"end":{"row":102,"column":8},"action":"remove","lines":[" "]},{"start":{"row":102,"column":6},"end":{"row":102,"column":7},"action":"remove","lines":["\t"]},{"start":{"row":102,"column":5},"end":{"row":102,"column":6},"action":"remove","lines":[" "]}],[{"start":{"row":102,"column":5},"end":{"row":102,"column":6},"action":"insert","lines":[" "],"id":60}],[{"start":{"row":101,"column":5},"end":{"row":101,"column":6},"action":"remove","lines":[" "],"id":61},{"start":{"row":101,"column":4},"end":{"row":101,"column":5},"action":"remove","lines":[" "]},{"start":{"row":101,"column":3},"end":{"row":101,"column":4},"action":"remove","lines":[" "]},{"start":{"row":101,"column":2},"end":{"row":101,"column":3},"action":"remove","lines":[" "]},{"start":{"row":101,"column":1},"end":{"row":101,"column":2},"action":"remove","lines":["\t"]},{"start":{"row":101,"column":0},"end":{"row":101,"column":1},"action":"remove","lines":["\t"]},{"start":{"row":100,"column":6},"end":{"row":101,"column":0},"action":"remove","lines":["",""]},{"start":{"row":100,"column":5},"end":{"row":100,"column":6},"action":"remove","lines":[" "]},{"start":{"row":100,"column":4},"end":{"row":100,"column":5},"action":"remove","lines":[" "]},{"start":{"row":100,"column":3},"end":{"row":100,"column":4},"action":"remove","lines":[" "]}],[{"start":{"row":100,"column":2},"end":{"row":100,"column":3},"action":"remove","lines":[" "],"id":62},{"start":{"row":100,"column":1},"end":{"row":100,"column":2},"action":"remove","lines":["\t"]},{"start":{"row":100,"column":0},"end":{"row":100,"column":1},"action":"remove","lines":["\t"]},{"start":{"row":99,"column":42},"end":{"row":100,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":105,"column":0},"end":{"row":110,"column":32},"action":"remove","lines":["\t\t    ","\t\t    ","\t\t    'item_name' => 'required|min:3|max:255',","\t\t    'item_number' => 'required|min:1|max:3',","\t\t    'item_amount' => 'required|max:6',","\t\t    'published' => 'required',"],"id":63},{"start":{"row":104,"column":37},"end":{"row":105,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":115,"column":15},"end":{"row":115,"column":27},"action":"insert","lines":["donator_name"],"id":64}],[{"start":{"row":115,"column":27},"end":{"row":115,"column":28},"action":"remove","lines":["i"],"id":65},{"start":{"row":115,"column":27},"end":{"row":115,"column":28},"action":"remove","lines":["t"]},{"start":{"row":115,"column":27},"end":{"row":115,"column":28},"action":"remove","lines":["e"]},{"start":{"row":115,"column":27},"end":{"row":115,"column":28},"action":"remove","lines":["m"]},{"start":{"row":115,"column":27},"end":{"row":115,"column":28},"action":"remove","lines":["_"]},{"start":{"row":115,"column":27},"end":{"row":115,"column":28},"action":"remove","lines":["n"]},{"start":{"row":115,"column":27},"end":{"row":115,"column":28},"action":"remove","lines":["a"]},{"start":{"row":115,"column":27},"end":{"row":115,"column":28},"action":"remove","lines":["m"]},{"start":{"row":115,"column":27},"end":{"row":115,"column":28},"action":"remove","lines":["e"]}],[{"start":{"row":115,"column":43},"end":{"row":115,"column":55},"action":"insert","lines":["donator_name"],"id":66}],[{"start":{"row":115,"column":55},"end":{"row":115,"column":56},"action":"remove","lines":["i"],"id":67},{"start":{"row":115,"column":55},"end":{"row":115,"column":56},"action":"remove","lines":["t"]},{"start":{"row":115,"column":55},"end":{"row":115,"column":56},"action":"remove","lines":["e"]},{"start":{"row":115,"column":55},"end":{"row":115,"column":56},"action":"remove","lines":["m"]},{"start":{"row":115,"column":55},"end":{"row":115,"column":56},"action":"remove","lines":["_"]},{"start":{"row":115,"column":55},"end":{"row":115,"column":56},"action":"remove","lines":["n"]},{"start":{"row":115,"column":55},"end":{"row":115,"column":56},"action":"remove","lines":["a"]},{"start":{"row":115,"column":55},"end":{"row":115,"column":56},"action":"remove","lines":["m"]},{"start":{"row":115,"column":55},"end":{"row":115,"column":56},"action":"remove","lines":["e"]}],[{"start":{"row":116,"column":15},"end":{"row":116,"column":22},"action":"insert","lines":["zipcode"],"id":68}],[{"start":{"row":116,"column":22},"end":{"row":116,"column":23},"action":"remove","lines":["i"],"id":69},{"start":{"row":116,"column":22},"end":{"row":116,"column":23},"action":"remove","lines":["t"]},{"start":{"row":116,"column":22},"end":{"row":116,"column":23},"action":"remove","lines":["e"]},{"start":{"row":116,"column":22},"end":{"row":116,"column":23},"action":"remove","lines":["m"]},{"start":{"row":116,"column":22},"end":{"row":116,"column":23},"action":"remove","lines":["_"]},{"start":{"row":116,"column":22},"end":{"row":116,"column":23},"action":"remove","lines":["n"]},{"start":{"row":116,"column":22},"end":{"row":116,"column":23},"action":"remove","lines":["u"]},{"start":{"row":116,"column":22},"end":{"row":116,"column":23},"action":"remove","lines":["m"]},{"start":{"row":116,"column":22},"end":{"row":116,"column":23},"action":"remove","lines":["b"]},{"start":{"row":116,"column":22},"end":{"row":116,"column":23},"action":"remove","lines":["e"]},{"start":{"row":116,"column":22},"end":{"row":116,"column":23},"action":"remove","lines":["r"]}],[{"start":{"row":116,"column":36},"end":{"row":116,"column":43},"action":"insert","lines":["zipcode"],"id":70}],[{"start":{"row":116,"column":43},"end":{"row":116,"column":44},"action":"remove","lines":["i"],"id":71},{"start":{"row":116,"column":43},"end":{"row":116,"column":44},"action":"remove","lines":["t"]},{"start":{"row":116,"column":43},"end":{"row":116,"column":44},"action":"remove","lines":["e"]},{"start":{"row":116,"column":43},"end":{"row":116,"column":44},"action":"remove","lines":["m"]},{"start":{"row":116,"column":43},"end":{"row":116,"column":44},"action":"remove","lines":["_"]},{"start":{"row":116,"column":43},"end":{"row":116,"column":44},"action":"remove","lines":["n"]},{"start":{"row":116,"column":43},"end":{"row":116,"column":44},"action":"remove","lines":["u"]},{"start":{"row":116,"column":43},"end":{"row":116,"column":44},"action":"remove","lines":["m"]},{"start":{"row":116,"column":43},"end":{"row":116,"column":44},"action":"remove","lines":["b"]},{"start":{"row":116,"column":43},"end":{"row":116,"column":44},"action":"remove","lines":["e"]}],[{"start":{"row":116,"column":43},"end":{"row":116,"column":44},"action":"remove","lines":["r"],"id":72}],[{"start":{"row":114,"column":41},"end":{"row":115,"column":0},"action":"insert","lines":["",""],"id":73},{"start":{"row":115,"column":0},"end":{"row":115,"column":8},"action":"insert","lines":["        "]},{"start":{"row":115,"column":8},"end":{"row":116,"column":0},"action":"insert","lines":["",""]},{"start":{"row":116,"column":0},"end":{"row":116,"column":8},"action":"insert","lines":["        "]},{"start":{"row":116,"column":8},"end":{"row":117,"column":0},"action":"insert","lines":["",""]},{"start":{"row":117,"column":0},"end":{"row":117,"column":8},"action":"insert","lines":["        "]},{"start":{"row":117,"column":8},"end":{"row":118,"column":0},"action":"insert","lines":["",""]},{"start":{"row":118,"column":0},"end":{"row":118,"column":8},"action":"insert","lines":["        "]},{"start":{"row":118,"column":8},"end":{"row":119,"column":0},"action":"insert","lines":["",""]},{"start":{"row":119,"column":0},"end":{"row":119,"column":8},"action":"insert","lines":["        "]}],[{"start":{"row":117,"column":8},"end":{"row":122,"column":22},"action":"insert","lines":["        $book->donator_name =    $request->donator_name;","        $book->zipcode =  $request->zipcode;","        $book->address =  $request->address;","        $book->meet =  $request->meet;","        $book->published =    $request->published;","        $book->save();"],"id":74}],[{"start":{"row":117,"column":14},"end":{"row":117,"column":15},"action":"remove","lines":[" "],"id":75},{"start":{"row":117,"column":13},"end":{"row":117,"column":14},"action":"remove","lines":[" "]},{"start":{"row":117,"column":12},"end":{"row":117,"column":13},"action":"remove","lines":[" "]},{"start":{"row":117,"column":8},"end":{"row":117,"column":12},"action":"remove","lines":["    "]}],[{"start":{"row":117,"column":8},"end":{"row":117,"column":9},"action":"remove","lines":[" "],"id":76}],[{"start":{"row":116,"column":4},"end":{"row":116,"column":8},"action":"remove","lines":["    "],"id":77},{"start":{"row":116,"column":0},"end":{"row":116,"column":4},"action":"remove","lines":["    "]},{"start":{"row":115,"column":8},"end":{"row":116,"column":0},"action":"remove","lines":["",""]},{"start":{"row":115,"column":4},"end":{"row":115,"column":8},"action":"remove","lines":["    "]},{"start":{"row":115,"column":0},"end":{"row":115,"column":4},"action":"remove","lines":["    "]},{"start":{"row":114,"column":41},"end":{"row":115,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":121,"column":0},"end":{"row":127,"column":23},"action":"remove","lines":["        ","        ","        $book->donator_name =    $request->donator_name;","        $book->zipcode =  $request->zipcode;","        $book->item_amount =  $request->item_amount;","        $book->published =    $request->published;","        $book->save(); "],"id":78},{"start":{"row":120,"column":22},"end":{"row":121,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":42,"column":46},"end":{"row":42,"column":47},"action":"remove","lines":["2"],"id":79}],[{"start":{"row":42,"column":46},"end":{"row":42,"column":47},"action":"insert","lines":["8"],"id":80}],[{"start":{"row":44,"column":37},"end":{"row":44,"column":38},"action":"remove","lines":["5"],"id":81}],[{"start":{"row":44,"column":37},"end":{"row":44,"column":38},"action":"insert","lines":["1"],"id":82}],[{"start":{"row":101,"column":46},"end":{"row":101,"column":47},"action":"remove","lines":["2"],"id":83}],[{"start":{"row":101,"column":46},"end":{"row":101,"column":47},"action":"insert","lines":["8"],"id":84}],[{"start":{"row":103,"column":37},"end":{"row":103,"column":38},"action":"remove","lines":["5"],"id":85}],[{"start":{"row":103,"column":37},"end":{"row":103,"column":38},"action":"insert","lines":["1"],"id":86}],[{"start":{"row":3,"column":0},"end":{"row":3,"column":20},"action":"insert","lines":["use Auth; // 冒頭付近に追加"],"id":87}],[{"start":{"row":40,"column":52},"end":{"row":41,"column":0},"action":"insert","lines":["",""],"id":88},{"start":{"row":41,"column":0},"end":{"row":41,"column":9},"action":"insert","lines":["\t        "]}],[{"start":{"row":41,"column":8},"end":{"row":41,"column":9},"action":"remove","lines":[" "],"id":89},{"start":{"row":41,"column":4},"end":{"row":41,"column":8},"action":"remove","lines":["    "]},{"start":{"row":41,"column":3},"end":{"row":41,"column":4},"action":"remove","lines":[" "]},{"start":{"row":41,"column":2},"end":{"row":41,"column":3},"action":"remove","lines":[" "]},{"start":{"row":41,"column":1},"end":{"row":41,"column":2},"action":"remove","lines":[" "]},{"start":{"row":41,"column":0},"end":{"row":41,"column":1},"action":"remove","lines":["\t"]}],[{"start":{"row":40,"column":52},"end":{"row":41,"column":0},"action":"remove","lines":["",""],"id":90}],[{"start":{"row":56,"column":25},"end":{"row":57,"column":0},"action":"insert","lines":["",""],"id":91},{"start":{"row":57,"column":0},"end":{"row":57,"column":8},"action":"insert","lines":["        "]}],[{"start":{"row":57,"column":8},"end":{"row":58,"column":0},"action":"insert","lines":["\t\t$book->user_id    =  Auth::id(); // ここを追加",""],"id":92}],[{"start":{"row":57,"column":9},"end":{"row":57,"column":10},"action":"remove","lines":["\t"],"id":93},{"start":{"row":57,"column":8},"end":{"row":57,"column":9},"action":"remove","lines":["\t"]}],[{"start":{"row":57,"column":49},"end":{"row":58,"column":0},"action":"remove","lines":["",""],"id":94}],[{"start":{"row":3,"column":20},"end":{"row":4,"column":0},"action":"insert","lines":["",""],"id":100}],[{"start":{"row":4,"column":0},"end":{"row":4,"column":26},"action":"insert","lines":["use App\\Models\\User; // 追加"],"id":101}],[{"start":{"row":15,"column":7},"end":{"row":16,"column":0},"action":"insert","lines":["",""],"id":102},{"start":{"row":16,"column":0},"end":{"row":16,"column":5},"action":"insert","lines":["     "]},{"start":{"row":16,"column":5},"end":{"row":17,"column":0},"action":"insert","lines":["",""]},{"start":{"row":17,"column":0},"end":{"row":17,"column":5},"action":"insert","lines":["     "]},{"start":{"row":17,"column":5},"end":{"row":18,"column":0},"action":"insert","lines":["",""]},{"start":{"row":18,"column":0},"end":{"row":18,"column":5},"action":"insert","lines":["     "]},{"start":{"row":18,"column":5},"end":{"row":19,"column":0},"action":"insert","lines":["",""]},{"start":{"row":19,"column":0},"end":{"row":19,"column":5},"action":"insert","lines":["     "]},{"start":{"row":19,"column":5},"end":{"row":20,"column":0},"action":"insert","lines":["",""]},{"start":{"row":20,"column":0},"end":{"row":20,"column":5},"action":"insert","lines":["     "]},{"start":{"row":20,"column":5},"end":{"row":21,"column":0},"action":"insert","lines":["",""]},{"start":{"row":21,"column":0},"end":{"row":21,"column":5},"action":"insert","lines":["     "]},{"start":{"row":21,"column":5},"end":{"row":22,"column":0},"action":"insert","lines":["",""]},{"start":{"row":22,"column":0},"end":{"row":22,"column":5},"action":"insert","lines":["     "]},{"start":{"row":22,"column":5},"end":{"row":23,"column":0},"action":"insert","lines":["",""]},{"start":{"row":23,"column":0},"end":{"row":23,"column":5},"action":"insert","lines":["     "]},{"start":{"row":23,"column":5},"end":{"row":24,"column":0},"action":"insert","lines":["",""]},{"start":{"row":24,"column":0},"end":{"row":24,"column":5},"action":"insert","lines":["     "]}],[{"start":{"row":16,"column":0},"end":{"row":16,"column":5},"action":"remove","lines":["     "],"id":104},{"start":{"row":16,"column":0},"end":{"row":27,"column":1},"action":"insert","lines":["class BooksController extends Controller","{","\t// 中略","\t//","\t// 管理者ページ ※便宜的にBookコントローラーに作成","\tpublic function adminIndex()","\t{","\t\t// 1対多の複数の例","\t\t$users = User::with('books')->get();","\t\treturn view('admin', ['users' => $users]);","\t}","}"]}],[{"start":{"row":17,"column":0},"end":{"row":17,"column":1},"action":"remove","lines":["{"],"id":105},{"start":{"row":16,"column":40},"end":{"row":17,"column":0},"action":"remove","lines":["",""]},{"start":{"row":16,"column":39},"end":{"row":16,"column":40},"action":"remove","lines":["r"]},{"start":{"row":16,"column":38},"end":{"row":16,"column":39},"action":"remove","lines":["e"]},{"start":{"row":16,"column":37},"end":{"row":16,"column":38},"action":"remove","lines":["l"]},{"start":{"row":16,"column":36},"end":{"row":16,"column":37},"action":"remove","lines":["l"]},{"start":{"row":16,"column":35},"end":{"row":16,"column":36},"action":"remove","lines":["o"]},{"start":{"row":16,"column":34},"end":{"row":16,"column":35},"action":"remove","lines":["r"]},{"start":{"row":16,"column":33},"end":{"row":16,"column":34},"action":"remove","lines":["t"]},{"start":{"row":16,"column":32},"end":{"row":16,"column":33},"action":"remove","lines":["n"]},{"start":{"row":16,"column":31},"end":{"row":16,"column":32},"action":"remove","lines":["o"]},{"start":{"row":16,"column":30},"end":{"row":16,"column":31},"action":"remove","lines":["C"]},{"start":{"row":16,"column":29},"end":{"row":16,"column":30},"action":"remove","lines":[" "]},{"start":{"row":16,"column":28},"end":{"row":16,"column":29},"action":"remove","lines":["s"]},{"start":{"row":16,"column":27},"end":{"row":16,"column":28},"action":"remove","lines":["d"]},{"start":{"row":16,"column":26},"end":{"row":16,"column":27},"action":"remove","lines":["n"]},{"start":{"row":16,"column":25},"end":{"row":16,"column":26},"action":"remove","lines":["e"]},{"start":{"row":16,"column":24},"end":{"row":16,"column":25},"action":"remove","lines":["t"]},{"start":{"row":16,"column":23},"end":{"row":16,"column":24},"action":"remove","lines":["x"]},{"start":{"row":16,"column":22},"end":{"row":16,"column":23},"action":"remove","lines":["e"]},{"start":{"row":16,"column":21},"end":{"row":16,"column":22},"action":"remove","lines":[" "]},{"start":{"row":16,"column":20},"end":{"row":16,"column":21},"action":"remove","lines":["r"]},{"start":{"row":16,"column":19},"end":{"row":16,"column":20},"action":"remove","lines":["e"]},{"start":{"row":16,"column":18},"end":{"row":16,"column":19},"action":"remove","lines":["l"]},{"start":{"row":16,"column":17},"end":{"row":16,"column":18},"action":"remove","lines":["l"]},{"start":{"row":16,"column":16},"end":{"row":16,"column":17},"action":"remove","lines":["o"]},{"start":{"row":16,"column":15},"end":{"row":16,"column":16},"action":"remove","lines":["r"]},{"start":{"row":16,"column":14},"end":{"row":16,"column":15},"action":"remove","lines":["t"]},{"start":{"row":16,"column":13},"end":{"row":16,"column":14},"action":"remove","lines":["n"]},{"start":{"row":16,"column":12},"end":{"row":16,"column":13},"action":"remove","lines":["o"]},{"start":{"row":16,"column":11},"end":{"row":16,"column":12},"action":"remove","lines":["C"]},{"start":{"row":16,"column":10},"end":{"row":16,"column":11},"action":"remove","lines":["s"]},{"start":{"row":16,"column":9},"end":{"row":16,"column":10},"action":"remove","lines":["k"]},{"start":{"row":16,"column":8},"end":{"row":16,"column":9},"action":"remove","lines":["o"]},{"start":{"row":16,"column":7},"end":{"row":16,"column":8},"action":"remove","lines":["o"]},{"start":{"row":16,"column":6},"end":{"row":16,"column":7},"action":"remove","lines":["B"]},{"start":{"row":16,"column":5},"end":{"row":16,"column":6},"action":"remove","lines":[" "]},{"start":{"row":16,"column":4},"end":{"row":16,"column":5},"action":"remove","lines":["s"]},{"start":{"row":16,"column":3},"end":{"row":16,"column":4},"action":"remove","lines":["s"]},{"start":{"row":16,"column":2},"end":{"row":16,"column":3},"action":"remove","lines":["a"]}],[{"start":{"row":16,"column":1},"end":{"row":16,"column":2},"action":"remove","lines":["l"],"id":106},{"start":{"row":16,"column":0},"end":{"row":16,"column":1},"action":"remove","lines":["c"]},{"start":{"row":15,"column":7},"end":{"row":16,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":26,"column":4},"end":{"row":26,"column":5},"action":"remove","lines":[" "],"id":107},{"start":{"row":26,"column":0},"end":{"row":26,"column":4},"action":"remove","lines":["    "]},{"start":{"row":25,"column":1},"end":{"row":26,"column":0},"action":"remove","lines":["",""]},{"start":{"row":25,"column":0},"end":{"row":25,"column":1},"action":"remove","lines":["}"]}]]},"timestamp":1650826842186}